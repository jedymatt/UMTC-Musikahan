---
export interface Props {
    href: string;
    currentPath: string;
}

let { href, currentPath } = Astro.props;

function isActiveLink(): boolean {
    currentPath = currentPath.startsWith("/") ? currentPath : `/${currentPath}`;

    return href === currentPath;
}
---

<a
    href={href}
    class:list={["un", { "text-green-600 font-bold": isActiveLink() }]}
>
    <div class="flex flex-row gap-2">
        <slot />
        <span class={isActiveLink() ? "not-sr-only" : "sr-only"}>
            <slot name="active-label" />
        </span>
    </div>
</a>

<style lang="css">
    .un {
        display: inline-block;
        background-image: linear-gradient(#239b51 0 0);
        background-position: 0 100%;
        /*OR bottom left*/
        background-size: 0% 2px;
        background-repeat: no-repeat;
        padding-bottom: 2px;
        transition: background-size 0.3s, background-position 0s 0.3s;
    }

    .un:hover {
        background-position: 100% 100%;
        /*OR bottom right*/
        background-size: 100% 2px;
        color: #239b51;
    }
</style>
